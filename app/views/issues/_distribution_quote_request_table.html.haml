%table.distribution-quote-request
  %thead.title
    %tr
      %th{:colspan => 4}
        = h delivery_method.name
        %br/
        = h delivery_method.description
  %thead
    %tr
      %th Region
      %th # Recipients
      %th # Copies
      %th # Units of 50
  %tbody
    - table.each do |row|
      %tr{:class => cycle('odd', 'even')}
        %td= h row[:region_name]
        %td.num-recipients= number_with_delimiter(row[:num_recipients].to_i)
        %td.num-copies= number_with_delimiter(row[:num_copies].to_i)
        %td.num-copies= number_with_delimiter(row[:num_copies].to_i / 50)
    %tr.total
      %td Total
      %td.num-recipients= number_with_delimiter(table.inject(0){|sum,row| sum + row[:num_recipients].to_i})
      %td.num-recipients= number_with_delimiter(table.inject(0){|sum,row| sum + row[:num_copies].to_i})
      %td.num-recipients= number_with_delimiter(table.inject(0){|sum,row| sum + row[:num_copies].to_i} / 50)
